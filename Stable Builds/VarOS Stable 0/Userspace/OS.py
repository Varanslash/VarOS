import time
import os
import sys
import math
import random
import json
import subprocess
import socket
from Modules import module_osfunctions as mof

logintries = 3
login = False

with open("Userspace\\Transfer Pipelines\\Credentials\\username.json", "r") as f:
    loggeduser = f.read()

with open("Userspace\\Transfer Pipelines\\Credentials\\password.json", "r") as f:
    loggedpass = f.read()

hostname = socket.gethostname()

print("Please enter your username and password in this format: username, password")
while login == False:
    creds = input("~$: ").split(", ")
    if creds[0] == loggeduser:
        if creds[1] == loggedpass:
            login = True
        else:
            print("Incorrect username or password.")
            logintries -= 1
            if logintries <= 0:
                mof.statusreturn(1)
    else:
        print("Incorrect username or password.")
        logintries -= 1
        if logintries <= 0:
            mof.statusreturn(1)

print("Welcome to VarOS!")
print("""
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%+=:::::::=+#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#+..::-+#=*+++.....=#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#=...=#%#+=#@%@@@@%%@@*.....*@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@-..-+**#@++%@%@@@@@%@@@@@@%#*= ..%@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%-..==#%%@%+%@%@@@@@@@@@@@@@@@@@#=-:.:%@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=.-*++%#%#*#%@@@@@@@@@@@@@@@@@@@@@@%#%:..#@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%:.-+=+##@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@+..+@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%:%#+#@@@@@#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*:.+@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@*..=++*%@@#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%:.-@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%=:::+=#%%****#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=.=@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=+**@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%..%@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@=::=%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%.:@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@*.#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@-.=@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@*-*@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#.-@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@#:%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@-.%@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@:+@@@@@@@@@@@%%*++#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=..@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@#:%@@@@@@@@@*==....-=-=###%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#..@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@%:*@@@@@@@@@+.        .---++*%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%..@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@**@@@@@@@@%.          .:-+--+=+@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@=.@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@==@@@@@@@@+.          ..=.-=-=+*#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@.+@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@#:@@@@@@@%.           ..:..-:--++#%@@@@@@@@@@@@@@@@@@@@@@@@@@@+.+@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@=+@@@@@@*   .=#@#+-:..:=:..:-++**%#*@@@@@@@@@@@@@@@@@@@@@@@@%.:@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@:-@@+@@:  ...:=+#%++-=::-++++**+*#*%#@@@@@@@@@@@@@@@@@@@@@@%.*@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@%:-=**+..+@@@@@@@@*+. .=*%@@@@@@@@@@%%@@@@@@@@@@@@@@@@@@@@@*.=@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@::=+: .:-:+@@##@#: .-#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@::@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@*.+=      .-+++-: .-##@@@@@@@@@@@@%%@@@@@@@@@@@@@@@@@@@@@@*.#@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%.+.             .:*@@@@@@@@@@@%%@@@@%#%@@@@@@@@@@@@@@@@@@@=+@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%:-.            .=#@@@%@@@@@@@@#@@@@@@*@@@@@@@@@@@@@@@@@@@%.+@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@=..            :+#@@@@@@@@%@%###@@#%@@%*@@@@@@@@@@@@@@@@@:.%@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@%.             .=+*%@@@@@%##%++*##%%%%**##%@@@@@@@@@@@@@@%.+@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@%-              :===#%#@@@@@@%#*+**+#*#*#@*%*@@@@@@@@@@@@@@*:@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@=.:*+=      .. .#@%%#@@@@@#@@%#*+*++*++**#+*+*@@@@@@@@@@@@@@+-@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@+:-+%@@@@-    ...  :=**@@@@@@@@@@@#***+*+****++*@@@@@@@@@@@@@@+:%@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@*.-#@@@@%-.          .-**#@@@@@@@%@%#*+****+*+*%#@@@@@@@@#@@@@@*:%@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@%+=:.*@@@@%-       ...  .+*%%%@@@@@@@@@@%##*******#@@@@@@%%@%#%+::=#@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@*::=**#@@@@@@:   .:. -=*:.:++==--=*%@@@@@@@@@##****#@@@@@@@%%##@@%:*@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@%--=*%%%@@@@@@@+   .-+-.-*:+@@@##%%@@@@@@@@@@@@@%%#*#@@@@@@@@@%@@@@@@@+-#@@@@@@@@@@@@@@@@@@@@@
@@@@%----+*##%@@@@@@@:   -#%:.:.   .+%@%#%@@@@@@@@@@@@#%%@%@@@@@@%@@@@@@@@@@@@-+@@@@@@@@@@@@@@@@@@@@
@@@##%%@%%%##@@@@@@@*   .-@@*.     ..-*%#%@@@@@@#%@@@@@@@@#%@@@@=.#@@@@@@@@@@@@=:%@@@@@@@@@@@@@@@@@@
@@%##%@@@@@@@@@@@@@#.    :+@@*.    .:**@@@@@@@@@##%%@@@@@@@@@@%##.:@@@@@@@@@@@@@#.+@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@+     -%@@#.    :-*@@@@@@@@@%%%%@@@@@@@@@%#%@@+-*@@@@@@@@@@@@@%=::+@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@-    .+@@@@*-.. .:*@@#@@@@@@@@@@@@@@@@@@%%@@@@@#@@@@@@@@@@@@@@@%+*+--#@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@%.    .-@@@@%+=.=.+%#%@%@@@@@@@@@@@@@@@@%#%@@@@@@@@@@@@@@@@@@@@@@@#@#**=@@@@@@@@@@
@@@@@@@@@@@@@@@@@@+.  .=#@@@@@@#%#**#*#%%@@@@@@@@@@@@@@@%@%%@@@@@@%@%@@@@@@@@@@@@@@@#@@@@*-%@@@@@@@@
@@@@@@@@@@@@@@@@@@++: .+#@@@@@@%@@@@%@@@@@@@@@@@@@@@@@@@%@%@@@@@@@%+.=@@@@@@@@@@@@@@@@@@@@@*#*@@@@@@
@@@@@@@@@@@@@@@@@%#=:..=#@@@@@@%#@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@=.  -@@@@@@@@@@@@@@@@@@@@@@%#*+@@@@
@@@@@@@@@@@@@@@@@%#+:-*@@@@@@@@@*++#%#@@@@@@@@@@@@@@@@@@@@@@@@@@@#++..%@@@@@@@@@@@@@@@@@@@@@@@@@*@@@
@@@@@@@@@@@@@@@@@%%-=+@@@@@@@@@@%*#+#%%@@@%@@@@@@@@@@@@@@@@@@@@@@=*#+.%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%*#%##@@@@@@@@@@@@@@@@@@@@@@@@@%=-++=@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%##%@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@

Copyright (c) Varanslash 2026""")

while True:
    userinput = input(f"{loggeduser}@{hostname}~$: ").split()
    match userinput:
        case ["run", app]:
            subprocess.run(["powershell", "-Command", f"py Userspace\\Apps\\{app}.py"])

        case ["logoff"]:
            mof.statusreturn("0")

        case ["echo", string]:
            print(string)

        case ["eval", equ]:
            result = eval(equ)
            print(f"Answer: {result}")

        case ["sleep", sec]:
            time.sleep(sec)